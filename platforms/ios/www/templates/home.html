<ion-view view-title="Bangmod Parking">
  <ion-content class="padding">
    <div class="list card">
      <div class="item item-avatar item-button-right">
        <img src="http://graph.facebook.com/{{user.id}}/picture?width=40&height=40"/>
        <h2>{{user.name}}</h2>
        <span class="assertive" ng-show="user_location==0">Not in university area</span>
        <span class="positive" ng-show="user_location==1">In university area</span>
        <button class="button button-positive" on-tap="showCurrent()" style="height:77%; width: auto;">
          <i class="icon ion-navigate"></i>
        </button>
        </div>
    </div>
    <ui-gmap-google-map center="map.center" zoom="map.zoom" options="options" bounds="map.bounds">
      <ui-gmap-marker id="ParkingBuilding" coords="marker.coords" options="marker.options" events="marker.events" idkey="marker.id">
      </ui-gmap-marker>
      <ui-gmap-marker id="currentPos" icon="currentPos.icon" coords="currentPos.coords" options="currentPos.options" events="currentPos.events" idkey="currentPos.id">
      </ui-gmap-marker>
    </ui-gmap-google-map>
    <br>
    <a href="#/parking/{{id}}" ng-show="place&&data.status[id-1]!=1&&!user_status" class="button button-block button-positive" style="margin-bottom: 30px;">
      Confirm parking at {{place}}
    </a>
    <a href="#/parking/{{id}}" ng-show="place&&data.status[id-1]==1&&!user_status" disabled="disabled" class="button button-block button-dark" style="margin-bottom: 30px;">
      Sorry, {{place}} is full.
    </a>
    <button class="button button-block button-stable" disabled="disabled" style="margin-bottom: 30px;" ng-show="!place&&!user_status">
      Select parking place below
    </button>
    <button class="button button-block button-assertive" on-tap="cancelPark()" style="margin-bottom: 30px;" ng-show="user_status">
      Cancel Parking at {{user_status.place}}
    </button>
    <div class="list">
      <div class="item item-divider" ng-show="nearest">
        Nearest parking lots
      </div>
      <a class="item" on-tap="showParkingBuilding()" ng-show="nearest==1">
        Parking Building
        <div ng-show="data.status[0]==3">
          <span class="badge badge-balanced">{{data.available[0]}}</span>
        </div>
        <div ng-show="data.status[0]==2">
          <span class="badge badge-energized" >{{data.available[0]}}</span>
        </div>
        <div ng-show="data.status[0]==1">
          <span class="badge badge-assertive">{{data.available[0]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showOutdoorParking()" ng-show="nearest==2">
        Outdoor Parking Space
        <div ng-show="data.status[1]==3">
          <span class="badge badge-balanced">{{data.available[1]}}</span>
        </div>
        <div ng-show="data.status[1]==2">
          <span class="badge badge-energized" >{{data.available[1]}}</span>
        </div>
        <div ng-show="data.status[1]==1">
          <span class="badge badge-assertive">{{data.available[1]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showFootballParking()" ng-show="nearest==3">
        Football Field
        <div ng-show="data.status[2]==3">
          <span class="badge badge-balanced">{{data.available[2]}}</span>
        </div>
        <div ng-show="data.status[2]==2">
          <span class="badge badge-energized" >{{data.available[2]}}</span>
        </div>
        <div ng-show="data.status[2]==1">
          <span class="badge badge-assertive">{{data.available[2]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showSIT()" ng-show="nearest==4">
        School of Information Technology
        <div ng-show="data.status[3]==3">
          <span class="badge badge-balanced">{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[3]==2">
          <span class="badge badge-energized" >{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[3]==1">
          <span class="badge badge-assertive">{{data.available[4]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showSEEM()" ng-show="nearest==5">
        SEEM
        <div ng-show="data.status[4]==3">
          <span class="badge badge-balanced">{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[4]==2">
          <span class="badge badge-energized" >{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[4]==1">
          <span class="badge badge-assertive">{{data.available[4]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showFoS()" ng-show="nearest==6">
        Faculty of Science
        <div ng-show="data.status[5]==3">
          <span class="badge badge-balanced">{{data.available[5]}}</span>
        </div>
        <div ng-show="data.status[5]==2">
          <span class="badge badge-energized" >{{data.available[5]}}</span>
        </div>
        <div ng-show="data.status[5]==1">
          <span class="badge badge-assertive">{{data.available[5]}}</span>
        </div>
      </a>
      <div class="item item-divider">
        Parking lots
      </div>
      <a class="item" on-tap="showParkingBuilding()" ng-hide="nearest==1">
        Parking Building
        <div ng-show="data.status[0]==3">
          <span class="badge badge-balanced">{{data.available[0]}}</span>
        </div>
        <div ng-show="data.status[0]==2">
          <span class="badge badge-energized" >{{data.available[0]}}</span>
        </div>
        <div ng-show="data.status[0]==1">
          <span class="badge badge-assertive">{{data.available[0]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showOutdoorParking()" ng-hide="nearest==2">
        Outdoor Parking Space
        <div ng-show="data.status[1]==3">
          <span class="badge badge-balanced">{{data.available[1]}}</span>
        </div>
        <div ng-show="data.status[1]==2">
          <span class="badge badge-energized" >{{data.available[1]}}</span>
        </div>
        <div ng-show="data.status[1]==1">
          <span class="badge badge-assertive">{{data.available[1]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showFootballParking()" ng-hide="nearest==3">
        Football Field
        <div ng-show="data.status[2]==3">
          <span class="badge badge-balanced">{{data.available[2]}}</span>
        </div>
        <div ng-show="data.status[2]==2">
          <span class="badge badge-energized" >{{data.available[2]}}</span>
        </div>
        <div ng-show="data.status[2]==1">
          <span class="badge badge-assertive">{{data.available[2]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showSIT()" ng-hide="nearest==4">
        School of Information Technology
        <div ng-show="data.status[3]==3">
          <span class="badge badge-balanced">{{data.available[3]}}</span>
        </div>
        <div ng-show="data.status[3]==2">
          <span class="badge badge-energized" >{{data.available[3]}}</span>
        </div>
        <div ng-show="data.status[3]==1">
          <span class="badge badge-assertive">{{data.available[3]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showSEEM()" ng-hide="nearest==5">
        SEEM
        <div ng-show="data.status[4]==3">
          <span class="badge badge-balanced">{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[4]==2">
          <span class="badge badge-energized" >{{data.available[4]}}</span>
        </div>
        <div ng-show="data.status[4]==1">
          <span class="badge badge-assertive">{{data.available[4]}}</span>
        </div>
      </a>
      <a class="item" on-tap="showFoS()" ng-hide="nearest==6">
        Faculty of Science
        <div ng-show="data.status[5]==3">
          <span class="badge badge-balanced">{{data.available[5]}}</span>
        </div>
        <div ng-show="data.status[5]==2">
          <span class="badge badge-energized" >{{data.available[5]}}</span>
        </div>
        <div ng-show="data.status[5]==1">
          <span class="badge badge-assertive">{{data.available[5]}}</span>
        </div>
      </a>
    </div>
  </ion-content>
</ion-view>
